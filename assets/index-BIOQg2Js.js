import{r as o,a as K,R as J}from"./vendor-wGySg1uH.js";import{M as Q}from"./mlc-DQW6F3ln.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();var z={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=o,Y=Symbol.for("react.element"),X=Symbol.for("react.fragment"),Z=Object.prototype.hasOwnProperty,ee=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function _(d,i,u){var r,t={},n=null,c=null;u!==void 0&&(n=""+u),i.key!==void 0&&(n=""+i.key),i.ref!==void 0&&(c=i.ref);for(r in i)Z.call(i,r)&&!ae.hasOwnProperty(r)&&(t[r]=i[r]);if(d&&d.defaultProps)for(r in i=d.defaultProps,i)t[r]===void 0&&(t[r]=i[r]);return{$$typeof:Y,type:d,key:n,ref:c,props:t,_owner:ee.current}}g.Fragment=X;g.jsx=_;g.jsxs=_;z.exports=g;var e=z.exports,N={},D=K;N.createRoot=D.createRoot,N.hydrateRoot=D.hydrateRoot;const v={albanileria:`Eres un experto maestro alba√±il con m√°s de 20 a√±os de experiencia en construcci√≥n y alba√±iler√≠a. Tu especialidad incluye:

- Construcci√≥n de muros, cimientos y estructuras
- T√©cnicas de mezcla de cemento, mortero y concreto
- Instalaci√≥n de ladrillos, bloques y piedras
- Acabados y revestimientos
- Reparaciones y mantenimiento de estructuras
- Herramientas y materiales de construcci√≥n
- C√°lculo de materiales y presupuestos
- Normas de seguridad en construcci√≥n
- T√©cnicas tradicionales y modernas de alba√±iler√≠a

Responde siempre de manera pr√°ctica, clara y profesional. Incluye consejos de seguridad cuando sea relevante.`,general:"Eres un asistente de IA √∫til, conocedor y amigable. Puedes ayudar con una amplia variedad de temas y preguntas. Responde de manera clara, precisa y √∫til.",programacion:"Eres un experto desarrollador de software con amplia experiencia en m√∫ltiples lenguajes de programaci√≥n, frameworks y mejores pr√°cticas. Ayudas con c√≥digo, debugging, arquitectura y consejos de desarrollo.",educacion:"Eres un tutor experto que puede explicar conceptos complejos de manera simple y clara. Adaptas tu estilo de ense√±anza seg√∫n el nivel del estudiante y usas ejemplos pr√°cticos.",negocios:"Eres un consultor de negocios experimentado con conocimientos en estrategia, marketing, finanzas y gesti√≥n empresarial. Proporcionas consejos pr√°cticos y basados en datos.",salud:"Eres un asistente informativo sobre temas de salud y bienestar. Proporcionas informaci√≥n general educativa, pero siempre recomiendas consultar con profesionales m√©dicos para diagn√≥sticos y tratamientos espec√≠ficos."},se="Llama-3.1-8B-Instruct-q4f32_1-MLC";function te(){const[d,i]=o.useState(null),[u,r]=o.useState([]),[t,n]=o.useState(""),[c,w]=o.useState(!1),[T,b]=o.useState(!1),[P,E]=o.useState(0),[O,S]=o.useState(""),[I,h]=o.useState(null),[A,C]=o.useState(!1),[s,k]=o.useState("albanileria"),[p,U]=o.useState(""),[G,f]=o.useState(!1),q=o.useRef(null),R=o.useRef(null);o.useEffect(()=>{(async()=>{if(!navigator.gpu){h(!1);return}try{const l=await navigator.gpu.requestAdapter();h(!!l)}catch(l){console.error("Error checking WebGPU support:",l),h(!1)}})()},[]),o.useEffect(()=>{var a;(a=q.current)==null||a.scrollIntoView({behavior:"smooth"})},[u,A]);const H=async()=>{if(!I){alert("WebGPU no est√° soportado en este navegador. Por favor, usa Chrome/Edge con WebGPU habilitado.");return}b(!0),E(0),S("Inicializando motor de IA...");try{const a=new Q;a.setInitProgressCallback(l=>{E(Math.round(l.progress*100)),S(l.text||"Cargando modelo...")}),await a.reload(se),i(a),b(!1),r([{id:Date.now(),role:"assistant",content:"¬°Hola! Soy tu asistente experto en alba√±iler√≠a. Tengo m√°s de 20 a√±os de experiencia en construcci√≥n y estoy aqu√≠ para ayudarte con cualquier pregunta sobre alba√±iler√≠a, construcci√≥n, materiales, t√©cnicas y herramientas. ¬øEn qu√© puedo ayudarte hoy?",timestamp:new Date}])}catch(a){console.error("Error initializing model:",a),b(!1),alert("Error al cargar el modelo. Por favor, recarga la p√°gina e intenta de nuevo.")}},W=()=>s==="custom"?p||v.general:v[s]||v.albanileria,L=a=>{k(a),f(!1);const l={albanileria:"¬°Hola! Soy tu asistente experto en alba√±iler√≠a. ¬øEn qu√© puedo ayudarte hoy?",general:"¬°Hola! Soy tu asistente de IA. Puedo ayudarte con una amplia variedad de temas. ¬øEn qu√© puedo ayudarte?",programacion:"¬°Hola! Soy tu asistente experto en programaci√≥n. ¬øEn qu√© proyecto o problema de c√≥digo puedo ayudarte?",educacion:"¬°Hola! Soy tu tutor personal. ¬øQu√© tema te gustar√≠a aprender o repasar hoy?",negocios:"¬°Hola! Soy tu consultor de negocios. ¬øEn qu√© aspecto de tu empresa puedo ayudarte?",salud:"¬°Hola! Soy tu asistente de informaci√≥n sobre salud y bienestar. ¬øEn qu√© puedo ayudarte? (Recuerda consultar con profesionales m√©dicos para diagn√≥sticos espec√≠ficos)",custom:"¬°Hola! Soy tu asistente personalizado. ¬øEn qu√© puedo ayudarte hoy?"};r([{id:Date.now(),role:"assistant",content:l[a]||l.general,timestamp:new Date}])},M=async()=>{var l;if(!t.trim()||!d||c)return;const a={id:Date.now(),role:"user",content:t.trim(),timestamp:new Date};r(m=>[...m,a]),n(""),w(!0),C(!0);try{const m=[{role:"system",content:W()},...u.map(x=>({role:x.role,content:x.content})),{role:"user",content:a.content}],y=await d.chat.completions.create({messages:m,temperature:.7,max_tokens:1e3}),j={id:Date.now()+1,role:"assistant",content:y.choices[0].message.content,timestamp:new Date};r(x=>[...x,j])}catch(m){console.error("Error generating response:",m);const y={id:Date.now()+1,role:"assistant",content:"Lo siento, hubo un error al procesar tu mensaje. Por favor, intenta de nuevo.",timestamp:new Date};r(j=>[...j,y])}finally{w(!1),C(!1),(l=R.current)==null||l.focus()}},$=a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),M())},B=()=>{r([{id:Date.now(),role:"assistant",content:"¬°Hola! Soy tu asistente experto en alba√±iler√≠a. ¬øEn qu√© puedo ayudarte hoy?",timestamp:new Date}])},F=a=>a.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return I===!1?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 to-red-700 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-red-600 text-6xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"WebGPU No Soportado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tu navegador no soporta WebGPU, que es necesario para ejecutar la IA localmente."}),e.jsxs("div",{className:"text-left bg-gray-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Soluciones:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Usa Chrome o Edge (versi√≥n reciente)"}),e.jsx("li",{children:"‚Ä¢ Habilita WebGPU en chrome://flags"}),e.jsx("li",{children:"‚Ä¢ Aseg√∫rate de tener drivers de GPU actualizados"})]})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary w-full",children:"Reintentar"})]})}):T?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 to-purple-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üèóÔ∏è"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Cargando Modelo de IA"}),e.jsx("p",{className:"text-gray-600",children:"Descargando Llama-3.1-8B desde HuggingFace..."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[e.jsx("span",{children:"Progreso"}),e.jsxs("span",{children:[P,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"progress-bar h-3 rounded-full transition-all duration-300",style:{width:`${P}%`}})})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:O}),e.jsxs("div",{className:"mt-6 text-xs text-gray-400 text-center",children:[e.jsx("p",{children:"‚ö° El modelo se descarga una sola vez y se guarda en cach√©"}),e.jsx("p",{children:"üîí Todo se ejecuta localmente en tu navegador"})]})]})}):d?e.jsxs("div",{className:"chat-container bg-chat-bg text-white flex flex-col",children:[e.jsxs("div",{className:"bg-chat-surface border-b border-chat-border p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:s==="albanileria"?"üèóÔ∏è":s==="programacion"?"üíª":s==="educacion"?"üìö":s==="negocios"?"üíº":s==="salud"?"üè•":s==="custom"?"‚öôÔ∏è":"ü§ñ"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:s==="albanileria"?"Maestro Alba√±il IA":s==="programacion"?"Programador IA":s==="educacion"?"Tutor IA":s==="negocios"?"Consultor IA":s==="salud"?"Asistente Salud IA":s==="custom"?"Asistente Personalizado":"Asistente IA"}),e.jsx("p",{className:"text-sm text-gray-400",children:s==="albanileria"?"Experto en construcci√≥n y alba√±iler√≠a":s==="programacion"?"Experto en desarrollo de software":s==="educacion"?"Tutor especializado":s==="negocios"?"Consultor empresarial":s==="salud"?"Informaci√≥n de salud y bienestar":s==="custom"?"Configuraci√≥n personalizada":"Asistente general"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>f(!0),className:"btn-secondary text-sm",children:"‚öôÔ∏è Cambiar Modo"}),e.jsx("button",{onClick:B,className:"btn-secondary text-sm",children:"üóëÔ∏è Limpiar"})]})]}),G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-chat-surface rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configurar Asistente IA"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white text-2xl",children:"‚úï"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Selecciona el tipo de asistente:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries({albanileria:{name:"Maestro Alba√±il",icon:"üèóÔ∏è",desc:"Experto en construcci√≥n y alba√±iler√≠a"},general:{name:"Asistente General",icon:"ü§ñ",desc:"Ayuda con cualquier tema"},programacion:{name:"Programador",icon:"üíª",desc:"Experto en desarrollo de software"},educacion:{name:"Tutor",icon:"üìö",desc:"Especialista en ense√±anza"},negocios:{name:"Consultor",icon:"üíº",desc:"Experto en negocios"},salud:{name:"Salud & Bienestar",icon:"üè•",desc:"Informaci√≥n de salud general"}}).map(([a,l])=>e.jsx("button",{onClick:()=>L(a),className:`p-4 rounded-lg border-2 text-left transition-all ${s===a?"border-blue-500 bg-blue-900/30":"border-gray-600 bg-gray-800/50 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:l.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:l.name}),e.jsx("div",{className:"text-sm text-gray-400",children:l.desc})]})]})},a))}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"O crea tu propio asistente:"}),e.jsx("textarea",{value:p,onChange:a=>U(a.target.value),placeholder:"Describe c√≥mo quieres que se comporte tu asistente IA personalizado...",className:"w-full h-32 bg-chat-bg border border-chat-border rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 resize-none"}),e.jsx("button",{onClick:()=>L("custom"),disabled:!p.trim(),className:`mt-3 px-4 py-2 rounded-lg font-medium transition-colors ${p.trim()?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"‚öôÔ∏è Usar Prompt Personalizado"})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-900/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-200",children:["üí° ",e.jsx("strong",{children:"Tip:"})," Cambiar el modo reiniciar√° la conversaci√≥n. El asistente adoptar√° la nueva personalidad y especializaci√≥n que selecciones."]})})]})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto messages-container p-4 space-y-4",children:[u.map(a=>e.jsx("div",{className:`fade-in flex ${a.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg px-4 py-2 rounded-lg ${a.role==="user"?"bg-user-message text-white":"bg-chat-surface text-gray-100"}`,children:[e.jsx("p",{className:"whitespace-pre-wrap",children:a.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:F(a.timestamp)})]})},a.id)),A&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-chat-surface text-gray-100 px-4 py-2 rounded-lg typing-indicator",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:q})]}),e.jsxs("div",{className:"bg-chat-surface border-t border-chat-border p-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{ref:R,type:"text",value:t,onChange:a=>n(a.target.value),onKeyPress:$,placeholder:s==="albanileria"?"Pregunta sobre alba√±iler√≠a, construcci√≥n, materiales...":s==="programacion"?"Pregunta sobre c√≥digo, frameworks, debugging...":s==="educacion"?"Pregunta sobre cualquier tema que quieras aprender...":s==="negocios"?"Pregunta sobre estrategia, marketing, finanzas...":s==="salud"?"Pregunta sobre salud y bienestar...":s==="custom"?"Escribe tu mensaje...":"Pregunta sobre cualquier tema...",className:"flex-1 bg-chat-bg border border-chat-border rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500",disabled:c}),e.jsx("button",{onClick:M,disabled:c||!t.trim(),className:"btn-primary px-6",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"üì§"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"Presiona Enter para enviar ‚Ä¢ Shift+Enter para nueva l√≠nea"})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 to-purple-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üèóÔ∏è"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"AI Chat Alba√±iler√≠a"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Chatbot de IA especializado en alba√±iler√≠a que funciona 100% en tu navegador"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"‚úÖ Caracter√≠sticas:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ IA experta en construcci√≥n y alba√±iler√≠a"}),e.jsx("li",{children:"‚Ä¢ Funciona completamente offline"}),e.jsx("li",{children:"‚Ä¢ Privacidad total - nada sale de tu navegador"}),e.jsx("li",{children:"‚Ä¢ Modelo Llama-3.1-8B optimizado"})]})]}),e.jsx("button",{onClick:H,className:"btn-primary w-full text-lg py-3",children:"Inicializar IA"}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"WebGPU detectado ‚úÖ | Primera carga: ~2-3 GB"})]})})}N.createRoot(document.getElementById("root")).render(e.jsx(J.StrictMode,{children:e.jsx(te,{})}));
